{% extends 'site_base.html' %}

{% block page-subtitle %} | {{ page.volume.title }}
   {% if page.volume.volume %} [{{ page.volume.volume }}] | Page {{ page.page_order }}{% endif %}{% endblock %}

{% block content %}
<div class="container">
    <header class="page-header">
        {# TODO: snippet (volume, pages, page) #}
        <h1>
            <a href="{% url 'books:volume' page.volume.pid %}">{{ page.volume.title }}</a>
            <span class="small">
                {% if page.volume.volume %}[{{ page.volume.volume }}]{% endif %}
                {% if page.volume.date %}({{ page.volume.date|join:', ' }}){% endif %}
            </span>
        </h1>
    </header>
    <article>
        <div class="pull-right">
            {% if prev %}
            <a class="btn btn-default" href="{% url 'books:page' prev.pid %}" title="{{ prev.page_order }}">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </a>
            {% endif %}

            {% if next %}
            <a class="btn btn-default" href="{% url 'books:page' next.pid %}" title="{{ next.page_order }}">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </a>
            {% endif %}

            <a class="btn btn-default {% if small_buttons %} btn-xs{% endif %}" href="{% url 'books:pages' page.volume.pid %}">
                <span class="glyphicon glyphicon-th"></span>
                <span>Browse all pages</span>
            </a>
        </div>
        <div class="text-center">
            <img src="{% url 'books:page-image' page.pid %}"/>
        </div>
    </article>
</div>
{% endblock %}
